(this["webpackJsonpfriends-list"]=this["webpackJsonpfriends-list"]||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(14),i=a.n(s),r=(a(66),a(29)),o=a(13),j=a(16),l=a.n(j),u=(a(85),a(38)),d=a(8),f=function(e){return Object(d.jsx)("div",{className:"main-card-container",children:Object(d.jsxs)(u.a,{className:"main-card",children:[Object(d.jsxs)("div",{className:"title-container",children:[Object(d.jsx)("strong",{children:e.name}),Object(d.jsx)("div",{children:"is your friend"})]}),Object(d.jsxs)("div",{className:" w-25 d-flex justify-content-around",children:[Object(d.jsx)("button",{className:"icon-button",disabled:e.loading,onClick:function(){return e.toggleFavourite(e)},children:e.favourite?Object(d.jsx)("i",{className:"star fa fa-star "}):Object(d.jsx)("i",{className:"star fa fa-star-o"})}),Object(d.jsx)("button",{className:"icon-button",disabled:e.loading,children:Object(d.jsx)("i",{className:" trash fa fa-trash",onClick:function(){return e.handleDelete(e.id)}})})]})]})})};f.defaultProps={name:"default name",favourite:!1};var b=f,O=a(59),m=a.n(O),h=a(39),x=a(40),g=a(41),p=a(56),v=a(55),N=a(57),S=a(19);var y=function(e,t){var a=Object(c.useState)(e),n=Object(o.a)(a,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e,t]),s},F="https://60e1c1015a5596001730f1f1.mockapi.io/friends";var T=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),j=i[0],u=i[1],f=Object(c.useState)([]),O=Object(o.a)(f,2),T=O[0],k=O[1],C=Object(c.useState)(!1),P=Object(o.a)(C,2),E=P[0],w=P[1],B=Object(c.useState)(0),D=Object(o.a)(B,2),I=D[0],z=D[1],J=Object(c.useState)(1),L=Object(o.a)(J,2),K=L[0],M=L[1],q=Object(c.useState)(""),A=Object(o.a)(q,2),G=A[0],H=A[1],Q=Object(c.useState)(!1),R=Object(o.a)(Q,2),U=R[0],V=R[1],W=y(G,500);Object(c.useEffect)((function(){W?(V(!0),M(1),l.a.get("".concat(F,"?page=").concat(K,"&limit=").concat(4,"&search=").concat(W,"&sortBy=favourite&order=").concat(j?"asc":"desc")).then((function(e){V(!1),k(e.data.items)}))):(X(),V(!1))}),[W,K]);var X=function(){l.a.get("".concat(F,"?page=").concat(K,"&limit=").concat(4,"&search=").concat(W)).then((function(e){z(e.data.count),k(e.data.items),w(!1)}))},Y=function(e){w(!0);var t=!e.favourite;l.a.put("".concat(F,"/").concat(e.id),{favourite:t}).then((function(){return X()}))},Z=function(e){l.a.delete("".concat(F,"/").concat(e)).then((function(){return X()}))};return Object(d.jsxs)(h.a,{children:[Object(d.jsx)(x.a,{className:"m-0 p-3 mw-100",children:Object(d.jsxs)(g.a,{className:"m-auto",lg:12,md:"9",sm:"12",children:[Object(d.jsxs)(p.a,{className:"input-field",children:[Object(d.jsx)(v.a,{placeholder:"Search Friend Name",name:"search-field",type:"search",value:G,onChange:function(e){return H(e.target.value)}}),Object(d.jsx)(N.a,{addonType:"append",children:Object(d.jsx)(S.a,{children:U?Object(d.jsx)("i",{className:"fa fa-spinner fa-spin"}):Object(d.jsx)("i",{className:" fa fa-search"})})})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("center",{children:["Sort by your ",j?"Friend":"Favourite Friend"," \xa0 \xa0 ",Object(d.jsx)("button",{className:"icon-button",onClick:function(){M(1),u(!j),l.a.get("".concat(F,"?page=").concat(K,"&limit=").concat(4,"&search=").concat(W,"&sortBy=favourite&order=").concat(j?"asc":"desc")).then((function(e){k(e.data.items)}))},children:j?Object(d.jsx)("i",{className:"star fa fa-star "}):Object(d.jsx)("i",{className:"star fa fa-star-o"})})]})]})}),Object(d.jsx)(x.a,{className:"app-container",children:Object(d.jsxs)(g.a,{className:"m-auto",lg:6,md:"9",sm:"12",children:[Object(d.jsxs)(p.a,{className:"input-field",children:[Object(d.jsx)(v.a,{placeholder:"Enter Friend Name",name:"friend-field",onKeyPress:function(e,t){var a={name:e.target.value,rating:!1};"Enter"===e.key&&(w(!0),l.a.post("".concat(F),a).then((function(e){X(),n(""),H("")})))},onChange:function(e){return n(e.target.value)},value:a}),Object(d.jsx)(N.a,{addonType:"append",children:Object(d.jsx)(S.a,{children:E?Object(d.jsx)("i",{className:"fa fa-spinner fa-spin"}):Object(d.jsx)("i",{className:" fa fa-user"})})})]}),T.map((function(e){return Object(c.createElement)(b,Object(r.a)(Object(r.a)({},e),{},{key:e.id,toggleFavourite:Y,handleDelete:Z,loading:E}))})),I>4&&T.length?Object(d.jsx)(m.a,{size:"sm",firstPageText:"<<",previousPageText:"<",lastPageText:">>",nextPageText:">",className:"pagination-container",totalItems:I,pageSize:4,onSelect:function(e,t){M(e)}}):null]})})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,112)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),k()},66:function(e,t,a){},85:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.4b9c939b.chunk.js.map